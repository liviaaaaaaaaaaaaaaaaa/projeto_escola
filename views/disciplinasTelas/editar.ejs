<%- include('../includes/header.ejs', { titulo : 'Editar Disciplina' }) %>

<main>
    <h2>Editar Nova Disciplina</h2>

    <form action="/disciplinas/<%= disciplina.id_disciplina %>/editar" method="POST" class="form">
        <div class="form-group">
            <label for="nome_disciplina">Nome da Disciplina:</label>
            <input type="text" id="nome_disciplina" name="nome_disciplina" value="<%= disciplina.nome_disciplina %>" required>
        </div>
        <div class="form-group">
            <label for="id_professor">Professor:</label>
            <select id="id_professor" name="id_professor">                    
                <option value="">Selecione um professor</option>
                <% for (let professor of professoresCadastrados) { %>
                    
                    <option value="<%= professor.id_professor %>"
                    <% if (professor.id_professor == disciplina.id_professor) { %>
                        selected
                     <% } %>
                     >
                    <%= professor.nome_professor %></option>
                <% } %>
                
            </select>
        </div>
        <button type="submit" class="btn btn-primary"> Salvar </button>
        <a href="/disciplinas/" class="btn btn-secondary">Cancelar</a>
        
        <% if(typeof mensagem != 'undefined') { %>
            <p class="erro"><%= mensagem %> </p>
        <% } %>
        
    </form>
</main>

<%- include('../includes/footer.ejs') %>